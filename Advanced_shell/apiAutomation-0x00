#!/bin/bash

# API Request Automation - Task 0
# Makes a request to the Pokémon API for Pikachu data

# API endpoint for Pikachu
API_URL="https://pokeapi.co/api/v2/pokemon/pikachu"

# Output files
DATA_FILE="data.json"
ERROR_FILE="errors.txt"

echo "Fetching Pikachu data from Pokémon API..."

# Make the API request and handle errors
if curl -s -f "$API_URL" > "$DATA_FILE" 2>/dev/null; then
    echo "✅ Successfully retrieved Pikachu data and saved to $DATA_FILE"
    echo "Data preview:"
    jq . < "$DATA_FILE" | head -n 20
else
    echo "❌ Failed to fetch data from API" | tee -a "$ERROR_FILE"
    echo "$(date): API request failed for $API_URL" >> "$ERROR_FILE"
    exit 1
fi 